var Qe=Object.defineProperty,Me=Object.defineProperties;var Pe=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var De=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var se=(e,n,a)=>n in e?Qe(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,x=(e,n)=>{for(var a in n||(n={}))De.call(n,a)&&se(e,a,n[a]);if(oe)for(var a of oe(n))Oe.call(n,a)&&se(e,a,n[a]);return e},Q=(e,n)=>Me(e,Pe(n));import{Q as Ne}from"./QTab.f5192df6.js";import{c as Te}from"./QTabs.c7351fdd.js";import{g as ue,s as ie,c as je,Q as D,n as Fe,b as Le,d as Ue}from"./notifyApiSuccess.91591755.js";import{a2 as Re,j as O,C as Xe,af as Ye,d as F,ag as H,p as de,aw as G,k as Z,f as J,s as T,c as j,r as C,a as c,w as ce,h as f,b as N,aj as Ke,z as te,g as X,n as He,aq as be,ar as pe,aT as $,P as ae,F as le,q as ne,D as ge,H as M,I as R,J as p,K as q,N as k,O as he,L as I,a7 as ye,aU as Ge,a6 as ee,$ as Je,aC as We,aV as Ze,Q as _e,R as et,aD as tt,aW as at,aX as lt,aY as ve,aZ as nt,aB as fe,M as me,a_ as rt}from"./index.ef0b161e.js";import{u as Y,a as K,e as ke,f as qe,Q as L,n as U}from"./notifyApiError.22ce61ab.js";import{Q as ot}from"./QPage.364c4deb.js";import{Q as xe}from"./QForm.29410c8f.js";function W(e,n,a){const u=Z(e);let t,l=u.left-n.event.x,s=u.top-n.event.y,d=Math.abs(l),i=Math.abs(s);const o=n.direction;o.horizontal===!0&&o.vertical!==!0?t=l<0?"left":"right":o.horizontal!==!0&&o.vertical===!0?t=s<0?"up":"down":o.up===!0&&s<0?(t="up",d>i&&(o.left===!0&&l<0?t="left":o.right===!0&&l>0&&(t="right"))):o.down===!0&&s>0?(t="down",d>i&&(o.left===!0&&l<0?t="left":o.right===!0&&l>0&&(t="right"))):o.left===!0&&l<0?(t="left",d<i&&(o.up===!0&&s<0?t="up":o.down===!0&&s>0&&(t="down"))):o.right===!0&&l>0&&(t="right",d<i&&(o.up===!0&&s<0?t="up":o.down===!0&&s>0&&(t="down")));let r=!1;if(t===void 0&&a===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};t=n.event.lastDir,r=!0,t==="left"||t==="right"?(u.left-=l,d=0,l=0):(u.top-=s,i=0,s=0)}return{synthetic:r,payload:{evt:e,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:u,direction:t,isFirst:n.event.isFirst,isFinal:a===!0,duration:Date.now()-n.event.time,distance:{x:d,y:i},offset:{x:l,y:s},delta:{x:u.left-n.event.lastX,y:u.top-n.event.lastY}}}}let st=0;var ut=Re({name:"touch-pan",beforeMount(e,{value:n,modifiers:a}){if(a.mouse!==!0&&O.has.touch!==!0)return;function u(l,s){a.mouse===!0&&s===!0?T(l):(a.stop===!0&&G(l),a.prevent===!0&&de(l))}const t={uid:"qvtp_"+st++,handler:n,modifiers:a,direction:ue(a),noop:Xe,mouseStart(l){ie(l,t)&&Ye(l)&&(F(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(l,!0))},touchStart(l){if(ie(l,t)){const s=l.target;F(t,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","passiveCapture"],[s,"touchend","end","passiveCapture"]]),t.start(l)}},start(l,s){if(O.is.firefox===!0&&H(e,!0),t.lastEvt=l,s===!0||a.stop===!0){if(t.direction.all!==!0&&(s!==!0||t.modifiers.mouseAllDir!==!0)){const o=l.type.indexOf("mouse")>-1?new MouseEvent(l.type,l):new TouchEvent(l.type,l);l.defaultPrevented===!0&&de(o),l.cancelBubble===!0&&G(o),Object.assign(o,{qKeyEvent:l.qKeyEvent,qClickOutside:l.qClickOutside,qAnchorHandled:l.qAnchorHandled,qClonedBy:l.qClonedBy===void 0?[t.uid]:l.qClonedBy.concat(t.uid)}),t.initialEvent={target:l.target,event:o}}G(l)}const{left:d,top:i}=Z(l);t.event={x:d,y:i,time:Date.now(),mouse:s===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:d,lastY:i}},move(l){if(t.event===void 0)return;const s=Z(l),d=s.left-t.event.x,i=s.top-t.event.y;if(d===0&&i===0)return;t.lastEvt=l;const o=t.event.mouse===!0,r=()=>{u(l,o),a.preserveCursor!==!0&&(document.documentElement.style.cursor="grabbing"),o===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),je(),t.styleCleanup=h=>{if(t.styleCleanup=void 0,a.preserveCursor!==!0&&(document.documentElement.style.cursor=""),document.body.classList.remove("non-selectable"),o===!0){const y=()=>{document.body.classList.remove("no-pointer-events--children")};h!==void 0?setTimeout(()=>{y(),h()},50):y()}else h!==void 0&&h()}};if(t.event.detected===!0){t.event.isFirst!==!0&&u(l,t.event.mouse);const{payload:h,synthetic:y}=W(l,t,!1);h!==void 0&&(t.handler(h)===!1?t.end(l):(t.styleCleanup===void 0&&t.event.isFirst===!0&&r(),t.event.lastX=h.position.left,t.event.lastY=h.position.top,t.event.lastDir=y===!0?void 0:h.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||o===!0&&t.modifiers.mouseAllDir===!0){r(),t.event.detected=!0,t.move(l);return}const g=Math.abs(d),b=Math.abs(i);g!==b&&(t.direction.horizontal===!0&&g>b||t.direction.vertical===!0&&g<b||t.direction.up===!0&&g<b&&i<0||t.direction.down===!0&&g<b&&i>0||t.direction.left===!0&&g>b&&d<0||t.direction.right===!0&&g>b&&d>0?(t.event.detected=!0,t.move(l)):t.end(l,!0))},end(l,s){if(t.event!==void 0){if(J(t,"temp"),O.is.firefox===!0&&H(e,!1),s===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(W(l===void 0?t.lastEvt:l,t).payload);const{payload:d}=W(l===void 0?t.lastEvt:l,t,!0),i=()=>{t.handler(d)};t.styleCleanup!==void 0?t.styleCleanup(i):i()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};e.__qtouchpan=t,a.mouse===!0&&F(t,"main",[[e,"mousedown","mouseStart",`passive${a.mouseCapture===!0?"Capture":""}`]]),O.has.touch===!0&&F(t,"main",[[e,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const a=e.__qtouchpan;a!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&a.end(),a.handler=n.value),a.direction=ue(n.modifiers))},beforeUnmount(e){const n=e.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),J(n,"main"),J(n,"temp"),O.is.firefox===!0&&H(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete e.__qtouchpan)}}),it=j({name:"QSplitter",props:Q(x({},Y),{modelValue:{type:Number,required:!0},reverse:Boolean,unit:{type:String,default:"%",validator:e=>["%","px"].includes(e)},limits:{type:Array,validator:e=>e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"?!1:e[0]>=0&&e[0]<=e[1]},emitImmediately:Boolean,horizontal:Boolean,disable:Boolean,beforeClass:[Array,String,Object],afterClass:[Array,String,Object],separatorClass:[Array,String,Object],separatorStyle:[Array,String,Object]}),emits:["update:modelValue"],setup(e,{slots:n,emit:a}){const{proxy:{$q:u}}=X(),t=K(e,u),l=C(null),s={before:C(null),after:C(null)},d=c(()=>`q-splitter no-wrap ${e.horizontal===!0?"q-splitter--horizontal column":"q-splitter--vertical row"} q-splitter--${e.disable===!0?"disabled":"workable"}`+(t.value===!0?" q-splitter--dark":"")),i=c(()=>e.horizontal===!0?"height":"width"),o=c(()=>e.reverse!==!0?"before":"after"),r=c(()=>e.limits!==void 0?e.limits:e.unit==="%"?[10,90]:[50,1/0]);function g(_){return(e.unit==="%"?_:Math.round(_))+e.unit}const b=c(()=>({[o.value]:{[i.value]:g(e.modelValue)}}));let h,y,w,S,V;function P(_){if(_.isFirst===!0){const B=l.value.getBoundingClientRect()[i.value];h=e.horizontal===!0?"up":"left",y=e.unit==="%"?100:B,w=Math.min(y,r.value[1],Math.max(r.value[0],e.modelValue)),S=(e.reverse!==!0?1:-1)*(e.horizontal===!0?1:u.lang.rtl===!0?-1:1)*(e.unit==="%"?B===0?0:100/B:1),l.value.classList.add("q-splitter--active");return}if(_.isFinal===!0){V!==e.modelValue&&a("update:modelValue",V),l.value.classList.remove("q-splitter--active");return}const A=w+S*(_.direction===h?-1:1)*_.distance[e.horizontal===!0?"y":"x"];V=Math.min(y,r.value[1],Math.max(r.value[0],A)),s[o.value].value.style[i.value]=g(V),e.emitImmediately===!0&&e.modelValue!==V&&a("update:modelValue",V)}const m=c(()=>[[ut,P,void 0,{[e.horizontal===!0?"vertical":"horizontal"]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function z(_,A){_<A[0]?a("update:modelValue",A[0]):_>A[1]&&a("update:modelValue",A[1])}return ce(()=>e.modelValue,_=>{z(_,r.value)}),ce(()=>e.limits,()=>{He(()=>{z(e.modelValue,r.value)})}),()=>{const _=[f("div",{ref:s.before,class:["q-splitter__panel q-splitter__before"+(e.reverse===!0?" col":""),e.beforeClass],style:b.value.before},N(n.before)),f("div",{class:["q-splitter__separator",e.separatorClass],style:e.separatorStyle,"aria-disabled":e.disable===!0?"true":void 0},[Ke("div",{class:"q-splitter__separator-area absolute-full"},N(n.separator),"sep",e.disable!==!0,()=>m.value)]),f("div",{ref:s.after,class:["q-splitter__panel q-splitter__after"+(e.reverse===!0?"":" col"),e.afterClass],style:b.value.after},N(n.after))];return f("div",{class:d.value,ref:l},te(n.default,_))}}});function Ce(e,n){const a=C(null),u=c(()=>e.disable!==!0?null:f("span",{ref:a,class:"no-outline",tabindex:-1}));function t(l){const s=n.value;l!==void 0&&l.type.indexOf("key")===0?s!==null&&document.activeElement!==s&&s.contains(document.activeElement)===!0&&s.focus():a.value!==null&&(l===void 0||s!==null&&s.contains(l.target)===!0)&&a.value.focus()}return{refocusTargetEl:u,refocusTarget:t}}var Ve={xs:30,sm:35,md:40,lg:50,xl:60};const dt=f("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24","aria-hidden":"true"},[f("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),f("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var ct=j({name:"QRadio",props:Q(x(x(x({},Y),be),ke),{modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]}),emits:["update:modelValue"],setup(e,{slots:n,emit:a}){const{proxy:u}=X(),t=K(e,u.$q),l=pe(e,Ve),s=C(null),{refocusTargetEl:d,refocusTarget:i}=Ce(e,s),o=c(()=>$(e.modelValue)===$(e.val)),r=c(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(t.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),g=c(()=>{const m=e.color!==void 0&&(e.keepColor===!0||o.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${o.value===!0?"truthy":"falsy"}${m}`}),b=c(()=>(o.value===!0?e.checkedIcon:e.uncheckedIcon)||null),h=c(()=>e.disable===!0?-1:e.tabindex||0),y=c(()=>{const m={type:"radio"};return e.name!==void 0&&Object.assign(m,{"^checked":o.value===!0?"checked":void 0,name:e.name,value:e.val}),m}),w=qe(y);function S(m){m!==void 0&&(T(m),i(m)),e.disable!==!0&&o.value!==!0&&a("update:modelValue",e.val,m)}function V(m){(m.keyCode===13||m.keyCode===32)&&T(m)}function P(m){(m.keyCode===13||m.keyCode===32)&&S(m)}return Object.assign(u,{set:S}),()=>{const m=b.value!==null?[f("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[f(ae,{class:"q-radio__icon",name:b.value})])]:[dt];e.disable!==!0&&w(m,"unshift"," q-radio__native q-ma-none q-pa-none");const z=[f("div",{class:g.value,style:l.value},m)];d.value!==null&&z.push(d.value);const _=e.label!==void 0?te(n.default,[e.label]):N(n.default);return _!==void 0&&z.push(f("div",{class:"q-radio__label q-anchor--skip"},_)),f("div",{ref:s,class:r.value,tabindex:h.value,role:"radio","aria-label":e.label,"aria-checked":o.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:S,onKeydown:V,onKeyup:P},z)}}});const we=Q(x(x(x({},Y),be),ke),{modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]}),Se=["update:modelValue"];function Ie(e,n){const{props:a,slots:u,emit:t,proxy:l}=X(),{$q:s}=l,d=K(a,s),i=C(null),{refocusTargetEl:o,refocusTarget:r}=Ce(a,i),g=pe(a,Ve),b=c(()=>a.val!==void 0&&Array.isArray(a.modelValue)),h=c(()=>{const v=$(a.val);return b.value===!0?a.modelValue.findIndex(E=>$(E)===v):-1}),y=c(()=>b.value===!0?h.value>-1:$(a.modelValue)===$(a.trueValue)),w=c(()=>b.value===!0?h.value===-1:$(a.modelValue)===$(a.falseValue)),S=c(()=>y.value===!1&&w.value===!1),V=c(()=>a.disable===!0?-1:a.tabindex||0),P=c(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(a.disable===!0?" disabled":"")+(d.value===!0?` q-${e}--dark`:"")+(a.dense===!0?` q-${e}--dense`:"")+(a.leftLabel===!0?" reverse":"")),m=c(()=>{const v=y.value===!0?"truthy":w.value===!0?"falsy":"indet",E=a.color!==void 0&&(a.keepColor===!0||(e==="toggle"?y.value===!0:w.value!==!0))?` text-${a.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${v}${E}`}),z=c(()=>{const v={type:"checkbox"};return a.name!==void 0&&Object.assign(v,{"^checked":y.value===!0?"checked":void 0,name:a.name,value:b.value===!0?a.val:a.trueValue}),v}),_=qe(z),A=c(()=>{const v={tabindex:V.value,role:"checkbox","aria-label":a.label,"aria-checked":S.value===!0?"mixed":y.value===!0?"true":"false"};return a.disable===!0&&(v["aria-disabled"]="true"),v});function B(v){v!==void 0&&(T(v),r(v)),a.disable!==!0&&t("update:modelValue",Ae(),v)}function Ae(){if(b.value===!0){if(y.value===!0){const v=a.modelValue.slice();return v.splice(h.value,1),v}return a.modelValue.concat([a.val])}if(y.value===!0){if(a.toggleOrder!=="ft"||a.toggleIndeterminate===!1)return a.falseValue}else if(w.value===!0){if(a.toggleOrder==="ft"||a.toggleIndeterminate===!1)return a.trueValue}else return a.toggleOrder!=="ft"?a.trueValue:a.falseValue;return a.indeterminateValue}function $e(v){(v.keyCode===13||v.keyCode===32)&&T(v)}function Be(v){(v.keyCode===13||v.keyCode===32)&&B(v)}const Ee=n(y,S);return Object.assign(l,{toggle:B}),()=>{const v=Ee();a.disable!==!0&&_(v,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const E=[f("div",{class:m.value,style:g.value},v)];o.value!==null&&E.push(o.value);const re=a.label!==void 0?te(u.default,[a.label]):N(u.default);return re!==void 0&&E.push(f("div",{class:`q-${e}__label q-anchor--skip`},re)),f("div",Q(x({ref:i,class:P.value},A.value),{onClick:B,onKeydown:$e,onKeyup:Be}),E)}}const vt=f("div",{key:"svg",class:"q-checkbox__bg absolute"},[f("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24","aria-hidden":"true"},[f("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),f("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var ft=j({name:"QCheckbox",props:we,emits:Se,setup(e){function n(a,u){const t=c(()=>(a.value===!0?e.checkedIcon:u.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>t.value!==null?[f("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[f(ae,{class:"q-checkbox__icon",name:t.value})])]:[vt]}return Ie("checkbox",n)}}),mt=j({name:"QToggle",props:Q(x({},we),{icon:String,iconColor:String}),emits:Se,setup(e){function n(a,u){const t=c(()=>(a.value===!0?e.checkedIcon:u.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),l=c(()=>a.value===!0?e.iconColor:null);return()=>[f("div",{class:"q-toggle__track"}),f("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},t.value!==void 0?[f(ae,{name:t.value,color:l.value})]:void 0)]}return Ie("toggle",n)}});const ze={radio:ct,checkbox:ft,toggle:mt},bt=Object.keys(ze);var pt=j({name:"QOptionGroup",props:Q(x({},Y),{modelValue:{required:!0},options:{type:Array,validator:e=>e.every(n=>"value"in n&&"label"in n)},name:String,type:{default:"radio",validator:e=>bt.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean}),emits:["update:modelValue"],setup(e,{emit:n,slots:a}){const{proxy:{$q:u}}=X(),t=Array.isArray(e.modelValue);e.type==="radio"?t===!0&&console.error("q-option-group: model should not be array"):t===!1&&console.error("q-option-group: model should be array in your case");const l=K(e,u),s=c(()=>ze[e.type]),d=c(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),i=c(()=>{const r={};return e.type==="radio"&&(r.role="radiogroup",e.disable===!0&&(r["aria-disabled"]="true")),r});function o(r){n("update:modelValue",r)}return()=>f("div",x({class:d.value},i.value),e.options.map((r,g)=>{const b=a["label-"+g]!==void 0?()=>a["label-"+g](r):a.label!==void 0?()=>a.label(r):void 0;return f("div",[f(s.value,{modelValue:e.modelValue,val:r.value,name:r.name===void 0?e.name:r.name,disable:e.disable||r.disable,label:b===void 0?r.label:null,leftLabel:r.leftLabel===void 0?e.leftLabel:r.leftLabel,color:r.color===void 0?e.color:r.color,checkedIcon:r.checkedIcon,uncheckedIcon:r.uncheckedIcon,dark:r.dark||l.value,size:r.size===void 0?e.size:r.size,dense:e.dense,keepColor:r.keepColor===void 0?e.keepColor:r.keepColor,"onUpdate:modelValue":o},b)])}))}});const gt=[{label:"\u672A\u77E5",value:0},{label:"\u7537\u6027",value:1},{label:"\u5973\u6027",value:2},{label:"\u975E\u4E8C\u5143",value:3}],ht={class:"q-pa-lg"},yt={class:"row items-center"},_t=["src"],kt={class:"row items-center"},qt={class:"text-subtitle1 text-bold q-mr-lg"},xt=et(" \u8B8A\u66F4\u5927\u982D\u8CBC\u7167\u7247 "),Ct=k("span",{class:"text-subtitle1 text-bold"}," \u66B1\u7A31 ",-1),Vt={class:"q-mb-md"},wt=k("span",{class:"text-subtitle1 text-bold"}," \u6027\u5225 ",-1),St={__name:"ProfileEditArea",setup(e){const n=le(),a=ne("defaultAvatar"),u=ge({avatar:"",screenName:"",gender:0}),t=C("");(async()=>{try{const i=await tt(n.user._id);u.avatar=i.data.user.avatar,u.screenName=i.data.user.screenName,u.gender=i.data.user.gender}catch(i){U(i)}})();const s=async i=>{const[o]=i.target.files;if(!!o){t.value="upload";try{const r=new FormData;r.append("image",o);const g=await at(r);u.avatar=g.data.link}catch(r){U(r)}finally{t.value=""}}},d=async i=>{t.value="submit";const{data:o}=await lt(n.user._id,u);n.updateUser({_id:o._id,screenName:o.screenName,avatar:o.avatar});try{}catch(r){U(r)}finally{t.value=""}};return(i,o)=>(M(),R("div",ht,[p(xe,{onSubmit:d,class:"q-gutter-md"},{default:q(()=>[k("div",yt,[p(he,{size:"xl",class:"q-mr-lg"},{default:q(()=>{var r;return[k("img",{src:(r=u.avatar)!=null?r:I(a)},null,8,_t)]}),_:1}),k("div",kt,[k("span",qt,ye(I(n).user.screenName),1),k("label",{for:"upload",class:Ge(["cursor-pointer text-primary text-bold",t.value==="upload"&&"disabled no-pointer-events"])},[xt,t.value==="upload"?(M(),ee(Je,{key:0,color:"primary",size:"1.5em"})):We("",!0),k("input",{onChange:s,type:"file",id:"upload",class:"hidden"},null,32)],2)])]),k("div",null,[Ct,p(L,{modelValue:u.screenName,"onUpdate:modelValue":o[0]||(o[0]=r=>u.screenName=r),modelModifiers:{trim:!0},square:"",outlined:"",dense:"","lazy-rules":"",rules:[r=>I(Ze)(r)||"\u66B1\u7A31\u9700\u5927\u65BC\u5169\u500B\u5B57"]},null,8,["modelValue","rules"])]),k("div",Vt,[wt,p(pt,{modelValue:u.gender,"onUpdate:modelValue":o[1]||(o[1]=r=>u.gender=r),options:I(gt),color:"primary",inline:""},null,8,["modelValue","options"])]),p(_e,{label:"\u63D0\u4EA4",type:"submit",color:"primary",loading:t.value==="submit"},null,8,["loading"])]),_:1})]))}},It={class:"q-pa-lg"},zt=["src"],At={class:"text-h6 self-center"},$t=k("span",{class:"text-subtitle1 text-bold"}," \u820A\u5BC6\u78BC ",-1),Bt=k("span",{class:"text-subtitle1 text-bold"}," \u65B0\u5BC6\u78BC ",-1),Et=k("span",{class:"text-subtitle1 text-bold"}," \u78BA\u8A8D\u5BC6\u78BC ",-1),Qt={__name:"PasswordChangeArea",setup(e){const n=le(),a=ne("defaultAvatar"),u=C(null),t=ge({currentPassword:"",password:"",passwordConfirm:""}),l=C(!1),s=async i=>{l.value=!0;try{const o=await nt(t);n.saveLoginData(o),Fe("\u66F4\u65B0\u6210\u529F"),u.value.reset()}catch(o){U(o)}finally{l.value=!1}},d=()=>{t.currentPassword="",t.password="",t.passwordConfirm=""};return(i,o)=>(M(),R("div",It,[p(xe,{onSubmit:s,onReset:d,ref_key:"myForm",ref:u},{default:q(()=>[p(D,null,{default:q(()=>[p(he,{size:"xl",class:"q-mr-lg"},{default:q(()=>{var r;return[k("img",{src:(r=I(n).user.avatar)!=null?r:I(a)},null,8,zt)]}),_:1}),k("span",At,ye(I(n).user.screenName),1)]),_:1}),p(D,{class:"column"},{default:q(()=>[$t,p(L,{modelValue:t.currentPassword,"onUpdate:modelValue":o[0]||(o[0]=r=>t.currentPassword=r),modelModifiers:{trim:!0},type:"password",square:"",outlined:"",dense:"","lazy-rules":"",rules:[r=>I(ve)(r)||"\u5BC6\u78BC\u9577\u5EA6\u9700\u5927\u65BC\u516B\u78BC\u4E14\u6578\u5B57\u8207\u82F1\u6587\u6216\u7B26\u865F\u6DF7\u5408"]},null,8,["modelValue","rules"])]),_:1}),p(D,{class:"column"},{default:q(()=>[Bt,p(L,{modelValue:t.password,"onUpdate:modelValue":o[1]||(o[1]=r=>t.password=r),modelModifiers:{trim:!0},onChange:o[2]||(o[2]=r=>t.passwordConfirm=""),type:"password",square:"",outlined:"",dense:"","lazy-rules":"",rules:[r=>I(ve)(r)||"\u5BC6\u78BC\u9577\u5EA6\u9700\u5927\u65BC\u516B\u78BC\u4E14\u6578\u5B57\u8207\u82F1\u6587\u6216\u7B26\u865F\u6DF7\u5408"]},null,8,["modelValue","rules"])]),_:1}),p(D,{class:"column"},{default:q(()=>[Et,p(L,{modelValue:t.passwordConfirm,"onUpdate:modelValue":o[3]||(o[3]=r=>t.passwordConfirm=r),modelModifiers:{trim:!0},type:"password",square:"",outlined:"",dense:"","lazy-rules":"",rules:[r=>r===t.password||"\u5BC6\u78BC\u8F38\u5165\u4E0D\u4E00\u81F4"]},null,8,["modelValue","rules"])]),_:1}),p(D,null,{default:q(()=>[p(_e,{label:"\u63D0\u4EA4",type:"submit",color:"primary",loading:l.value},null,8,["loading"])]),_:1})]),_:1},512)]))}},Mt={class:"constrain justify-center q-py-lg"},Ut={__name:"AccountPage",setup(e){le(),ne("defaultAvatar");const n=[{name:"profile",label:"\u7DE8\u8F2F\u500B\u4EBA\u6A94\u6848",component:St},{name:"password",label:"\u66F4\u6539\u5BC6\u78BC",component:Qt}],a=C(20),u=C("profile");return(t,l)=>(M(),ee(ot,null,{default:q(()=>[k("div",Mt,[p(it,{modelValue:a.value,"onUpdate:modelValue":l[2]||(l[2]=s=>a.value=s),class:"bg-white",style:{border:"1px rgba(0, 0, 0, 0.12) solid"}},{before:q(()=>[p(Te,{modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=s=>u.value=s),vertical:"","switch-indicator":""},{default:q(()=>[(M(),R(me,null,fe(n,s=>p(Ne,{key:s.name,name:s.name,label:s.label,"content-class":"q-px-md q-mr-auto"},null,8,["name","label"])),64))]),_:1},8,["modelValue"])]),after:q(()=>[p(Le,{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=s=>u.value=s),animated:"",vertical:"","switch-indicator":"","transition-prev":"jump-up","transition-next":"jump-up"},{default:q(()=>[(M(),R(me,null,fe(n,s=>p(Ue,{key:s.name,name:s.name},{default:q(()=>[(M(),ee(rt(s.component)))]),_:2},1032,["name"])),64))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])]),_:1}))}};export{Ut as default};
