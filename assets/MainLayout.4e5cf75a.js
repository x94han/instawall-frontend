var Ke=Object.defineProperty,Ue=Object.defineProperties;var Ge=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var be=(e,o,l)=>o in e?Ke(e,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[o]=l,P=(e,o)=>{for(var l in o||(o={}))Je.call(o,l)&&be(e,l,o[l]);if(ge)for(var l of ge(o))Xe.call(o,l)&&be(e,l,o[l]);return e},le=(e,o)=>Ue(e,Ge(o));import{c as Q,a as b,h as S,b as X,r as C,i as Ye,p as ye,n as Ze,d as xe,w as T,o as Le,e as V,g as R,f as et,l as K,j as tt,k as ot,T as nt,m as lt,s as at,q as Y,t as it,u as Z,v as rt,x as st,y as $e,z as Ee,A as Qe,B as ut,C as ct,D as A,E as dt,F as ft,G as pe,H as vt,I as ht,J as g,K as w,L as $,M as mt,N as B,Q as I,O as we,P as ae,R as W}from"./index.ef0b161e.js";import{p as _e,g as j,u as gt,a as bt,b as yt,c as xt,d as pt,e as wt,f as _t,r as Tt,h as Te,i as Be,j as St,k as Ct,l as kt,m as qt,n as zt,P as Pt,Q as Ht,o as D}from"./PostEditorDialog.161797bd.js";import{c as Lt,u as $t,a as Et,Q as N}from"./notifyApiSuccess.91591755.js";import{Q as Se}from"./QSeparator.f2252361.js";import{u as Qt,a as Bt,b as Mt}from"./notifyApiError.22ce61ab.js";import{Q as U,u as Rt,a as Vt,b as Ft,c as Wt}from"./QTabs.c7351fdd.js";import"./QCardSection.b4764d2d.js";var Ot=Q({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:o}){const l=b(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>S("div",{class:l.value},X(o.default))}}),At=Q({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:o}){const l=b(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>S("div",{class:l.value},X(o.default))}});const It={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Dt({showing:e,avoidEmit:o,configureAnchorEl:l}){const{props:n,proxy:t,emit:r}=R(),a=C(null);let d;function f(i){return a.value===null?!1:i===void 0||i.touches===void 0||i.touches.length<=1}const s={};l===void 0&&(Object.assign(s,{hide(i){t.hide(i)},toggle(i){t.toggle(i),i.qAnchorHandled=!0},toggleKey(i){Ye(i,13)===!0&&s.toggle(i)},contextClick(i){t.hide(i),ye(i),Ze(()=>{t.show(i),i.qAnchorHandled=!0})},prevent:ye,mobileTouch(i){if(s.mobileCleanup(i),f(i)!==!0)return;t.hide(i),a.value.classList.add("non-selectable");const p=i.target;xe(s,"anchor",[[p,"touchmove","mobileCleanup","passive"],[p,"touchend","mobileCleanup","passive"],[p,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),d=setTimeout(()=>{t.show(i),i.qAnchorHandled=!0},300)},mobileCleanup(i){a.value.classList.remove("non-selectable"),clearTimeout(d),e.value===!0&&i!==void 0&&Lt()}}),l=function(i=n.contextMenu){if(n.noParentEvent===!0||a.value===null)return;let p;i===!0?t.$q.platform.is.mobile===!0?p=[[a.value,"touchstart","mobileTouch","passive"]]:p=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:p=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],xe(s,"anchor",p)});function u(){et(s,"anchor")}function y(i){for(a.value=i;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;l()}function x(){if(n.target===!1||n.target===""||t.$el.parentNode===null)a.value=null;else if(n.target===!0)y(t.$el.parentNode);else{let i=n.target;if(typeof n.target=="string")try{i=document.querySelector(n.target)}catch{i=void 0}i!=null?(a.value=i.$el||i,l()):(a.value=null,console.error(`Anchor: target "${n.target}" not found`))}}return T(()=>n.contextMenu,i=>{a.value!==null&&(u(),l(i))}),T(()=>n.target,()=>{a.value!==null&&u(),x()}),T(()=>n.noParentEvent,i=>{a.value!==null&&(i===!0?u():l())}),Le(()=>{x(),o!==!0&&n.modelValue===!0&&a.value===null&&r("update:modelValue",!1)}),V(()=>{clearTimeout(d),u()}),{anchorEl:a,canShow:f,anchorEvents:s}}function Nt(e,o){const l=C(null);let n;function t(d,f){const s=`${f!==void 0?"add":"remove"}EventListener`,u=f!==void 0?f:n;d!==window&&d[s]("scroll",u,K.passive),window[s]("scroll",u,K.passive),n=f}function r(){l.value!==null&&(t(l.value),l.value=null)}const a=T(()=>e.noParentEvent,()=>{l.value!==null&&(r(),o())});return V(a),{localScrollTarget:l,unconfigureScrollTarget:r,changeScrollEvent:t}}let Me;const{notPassiveCapture:G}=K,M=[];function J(e){clearTimeout(Me);const o=e.target;if(o===void 0||o.nodeType===8||o.classList.contains("no-pointer-events")===!0)return;let l=_e.length-1;for(;l>=0;){const n=_e[l].$;if(n.type.name!=="QDialog")break;if(n.props.seamless!==!0)return;l--}for(let n=M.length-1;n>=0;n--){const t=M[n];if((t.anchorEl.value===null||t.anchorEl.value.contains(o)===!1)&&(o===document.body||t.innerRef.value!==null&&t.innerRef.value.contains(o)===!1))e.qClickOutside=!0,t.onClickOutside(e);else return}}function jt(e){M.push(e),M.length===1&&(document.addEventListener("mousedown",J,G),document.addEventListener("touchstart",J,G))}function Ce(e){const o=M.findIndex(l=>l===e);o>-1&&(M.splice(o,1),M.length===0&&(clearTimeout(Me),document.removeEventListener("mousedown",J,G),document.removeEventListener("touchstart",J,G)))}let ke,qe;function ze(e){const o=e.split(" ");return o.length!==2?!1:["top","center","bottom"].includes(o[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(o[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Kt(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const re={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{re[`${e}#ltr`]=e,re[`${e}#rtl`]=e});function Pe(e,o){const l=e.split(" ");return{vertical:l[0],horizontal:re[`${l[1]}#${o===!0?"rtl":"ltr"}`]}}function Ut(e,o){let{top:l,left:n,right:t,bottom:r,width:a,height:d}=e.getBoundingClientRect();return o!==void 0&&(l-=o[1],n-=o[0],r+=o[1],t+=o[0],a+=o[0],d+=o[1]),{top:l,left:n,right:t,bottom:r,width:a,height:d,middle:n+(t-n)/2,center:l+(r-l)/2}}function Gt(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function Jt(e){if(tt.is.ios===!0&&window.visualViewport!==void 0){const d=document.body.style,{offsetLeft:f,offsetTop:s}=window.visualViewport;f!==ke&&(d.setProperty("--q-pe-left",f+"px"),ke=f),s!==qe&&(d.setProperty("--q-pe-top",s+"px"),qe=s)}let o;const{scrollLeft:l,scrollTop:n}=e.el;if(e.absoluteOffset===void 0)o=Ut(e.anchorEl,e.cover===!0?[0,0]:e.offset);else{const{top:d,left:f}=e.anchorEl.getBoundingClientRect(),s=d+e.absoluteOffset.top,u=f+e.absoluteOffset.left;o={top:s,left:u,width:1,height:1,right:u+1,center:s,middle:u,bottom:s+1}}let t={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};(e.fit===!0||e.cover===!0)&&(t.minWidth=o.width+"px",e.cover===!0&&(t.minHeight=o.height+"px")),Object.assign(e.el.style,t);const r=Gt(e.el),a={top:o[e.anchorOrigin.vertical]-r[e.selfOrigin.vertical],left:o[e.anchorOrigin.horizontal]-r[e.selfOrigin.horizontal]};Xt(a,o,r,e.anchorOrigin,e.selfOrigin),t={top:a.top+"px",left:a.left+"px"},a.maxHeight!==void 0&&(t.maxHeight=a.maxHeight+"px",o.height>a.maxHeight&&(t.minHeight=t.maxHeight)),a.maxWidth!==void 0&&(t.maxWidth=a.maxWidth+"px",o.width>a.maxWidth&&(t.minWidth=t.maxWidth)),Object.assign(e.el.style,t),e.el.scrollTop!==n&&(e.el.scrollTop=n),e.el.scrollLeft!==l&&(e.el.scrollLeft=l)}function Xt(e,o,l,n,t){const r=l.bottom,a=l.right,d=j(),f=window.innerHeight-d,s=document.body.clientWidth;if(e.top<0||e.top+r>f)if(t.vertical==="center")e.top=o[n.vertical]>f/2?Math.max(0,f-r):0,e.maxHeight=Math.min(r,f);else if(o[n.vertical]>f/2){const u=Math.min(f,n.vertical==="center"?o.center:n.vertical===t.vertical?o.bottom:o.top);e.maxHeight=Math.min(r,u),e.top=Math.max(0,u-r)}else e.top=Math.max(0,n.vertical==="center"?o.center:n.vertical===t.vertical?o.top:o.bottom),e.maxHeight=Math.min(r,f-e.top);if(e.left<0||e.left+a>s)if(e.maxWidth=Math.min(a,s),t.horizontal==="middle")e.left=o[n.horizontal]>s/2?Math.max(0,s-a):0;else if(o[n.horizontal]>s/2){const u=Math.min(s,n.horizontal==="middle"?o.middle:n.horizontal===t.horizontal?o.right:o.left);e.maxWidth=Math.min(a,u),e.left=Math.max(0,u-e.maxWidth)}else e.left=Math.max(0,n.horizontal==="middle"?o.middle:n.horizontal===t.horizontal?o.left:o.right),e.maxWidth=Math.min(a,s-e.left)}var Yt=Q({name:"QMenu",inheritAttrs:!1,props:le(P(P(P(P({},It),gt),Qt),bt),{persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ze},self:{type:String,validator:ze},offset:{type:Array,validator:Kt},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}}),emits:[...yt,"click","escape-key"],setup(e,{slots:o,emit:l,attrs:n}){let t=null,r,a,d;const f=R(),{proxy:s}=f,{$q:u}=s,y=C(null),x=C(!1),i=b(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),p=Bt(e,u),{registerTick:k,removeTick:z}=$t(),{registerTimeout:H,removeTimeout:v}=Et(),{transition:q,transitionStyle:h}=xt(e,x),{localScrollTarget:c,changeScrollEvent:_,unconfigureScrollTarget:E}=Nt(e,he),{anchorEl:L,canShow:O}=Dt({showing:x}),{hide:se}=pt({showing:x,canShow:O,handleShow:Oe,handleHide:Ae,hideOnRouteChange:i,processOnMount:!0}),{showPortal:ue,hidePortal:ce,renderPortal:Re}=wt(f,y,De),ee={anchorEl:L,innerRef:y,onClickOutside(m){if(e.persistent!==!0&&x.value===!0)return se(m),(m.type==="touchstart"||m.target.classList.contains("q-dialog__backdrop"))&&at(m),!0}},de=b(()=>Pe(e.anchor||(e.cover===!0?"center middle":"bottom start"),u.lang.rtl)),Ve=b(()=>e.cover===!0?de.value:Pe(e.self||"top start",u.lang.rtl)),Fe=b(()=>(e.square===!0?" q-menu--square":"")+(p.value===!0?" q-menu--dark q-dark":"")),We=b(()=>e.autoClose===!0?{onClick:Ie}:{}),fe=b(()=>x.value===!0&&e.persistent!==!0);T(fe,m=>{m===!0?(Ct(oe),jt(ee)):(Te(oe),Ce(ee))});function te(){Mt(()=>{let m=y.value;m&&m.contains(document.activeElement)!==!0&&(m=m.querySelector("[autofocus], [data-autofocus]")||m,m.focus({preventScroll:!0}))})}function Oe(m){if(z(),v(),t=e.noRefocus===!1?document.activeElement:null,_t(me),ue(),he(),r=void 0,m!==void 0&&(e.touchPosition||e.contextMenu)){const ne=ot(m);if(ne.left!==void 0){const{top:Ne,left:je}=L.value.getBoundingClientRect();r={left:ne.left-je,top:ne.top-Ne}}}a===void 0&&(a=T(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,F)),e.noFocus!==!0&&document.activeElement.blur(),k(()=>{F(),e.noFocus!==!0&&te()}),H(()=>{u.platform.is.ios===!0&&(d=e.autoClose,y.value.click()),F(),ue(!0),l("show",m)},e.transitionDuration)}function Ae(m){z(),v(),ce(),ve(!0),t!==null&&(m===void 0||m.qClickOutside!==!0)&&(t.focus(),t=null),H(()=>{ce(!0),l("hide",m)},e.transitionDuration)}function ve(m){r=void 0,a!==void 0&&(a(),a=void 0),(m===!0||x.value===!0)&&(Tt(me),E(),Ce(ee),Te(oe)),m!==!0&&(t=null)}function he(){(L.value!==null||e.scrollTarget!==void 0)&&(c.value=Be(L.value,e.scrollTarget),_(c.value,F))}function Ie(m){d!==!0?(St(s,m),l("click",m)):d=!1}function me(m){fe.value===!0&&e.noFocus!==!0&&lt(y.value,m.target)!==!0&&te()}function oe(m){l("escape-key"),se(m)}function F(){const m=y.value;m===null||L.value===null||Jt({el:m,offset:e.offset,anchorEl:L.value,anchorOrigin:de.value,selfOrigin:Ve.value,absoluteOffset:r,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function De(){return S(nt,{name:q.value,appear:!0},()=>x.value===!0?S("div",P(le(P({},n),{ref:y,tabindex:-1,class:["q-menu q-position-engine scroll"+Fe.value,n.class],style:[n.style,h.value]}),We.value),X(o.default)):null)}return V(ve),Object.assign(s,{focus:te,updatePosition:F}),Re}}),Zt=Q({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:o,emit:l}){const{proxy:{$q:n}}=R(),t=Y(Z,()=>{console.error("QHeader needs to be child of QLayout")}),r=C(parseInt(e.heightHint,10)),a=C(!0),d=b(()=>e.reveal===!0||t.view.value.indexOf("H")>-1||n.platform.is.ios&&t.isContainer.value===!0),f=b(()=>{if(e.modelValue!==!0)return 0;if(d.value===!0)return a.value===!0?r.value:0;const v=r.value-t.scroll.value.position;return v>0?v:0}),s=b(()=>e.modelValue!==!0||d.value===!0&&a.value!==!0),u=b(()=>e.modelValue===!0&&s.value===!0&&e.reveal===!0),y=b(()=>"q-header q-layout__section--marginal "+(d.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(s.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),x=b(()=>{const v=t.rows.value.top,q={};return v[0]==="l"&&t.left.space===!0&&(q[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),v[2]==="r"&&t.right.space===!0&&(q[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),q});function i(v,q){t.update("header",v,q)}function p(v,q){v.value!==q&&(v.value=q)}function k({height:v}){p(r,v),i("size",v)}function z(v){u.value===!0&&p(a,!0),l("focusin",v)}T(()=>e.modelValue,v=>{i("space",v),p(a,!0),t.animate()}),T(f,v=>{i("offset",v)}),T(()=>e.reveal,v=>{v===!1&&p(a,e.modelValue)}),T(a,v=>{t.animate(),l("reveal",v)}),T(t.scroll,v=>{e.reveal===!0&&p(a,v.direction==="up"||v.position<=e.revealOffset||v.position-v.inflectionPoint<100)});const H={};return t.instances.header=H,e.modelValue===!0&&i("size",r.value),i("space",e.modelValue),i("offset",f.value),V(()=>{t.instances.header===H&&(t.instances.header=void 0,i("size",0),i("offset",0),i("space",!1))}),()=>{const v=it(o.default,[]);return e.elevated===!0&&v.push(S("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),v.push(S(U,{debounce:0,onResize:k})),S("header",{class:y.value,style:x.value,onFocusin:z},v)}}}),ie=Q({name:"QRouteTab",props:P(P({},rt),Rt),emits:Vt,setup(e,{slots:o,emit:l}){const n=st(),{renderTab:t,$tabs:r}=Ft(e,o,l,P({exact:b(()=>e.exact)},n));return T(()=>e.name+e.exact+(n.linkRoute.value||{}).href,()=>{r.verifyRouteModel()}),()=>t(n.linkTag.value,n.linkProps.value)}}),eo=Q({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:o,emit:l}){const{proxy:{$q:n}}=R(),t=Y(Z,()=>{console.error("QFooter needs to be child of QLayout")}),r=C(parseInt(e.heightHint,10)),a=C(!0),d=C($e.value===!0||t.isContainer.value===!0?0:window.innerHeight),f=b(()=>e.reveal===!0||t.view.value.indexOf("F")>-1||n.platform.is.ios&&t.isContainer.value===!0),s=b(()=>t.isContainer.value===!0?t.containerHeight.value:d.value),u=b(()=>{if(e.modelValue!==!0)return 0;if(f.value===!0)return a.value===!0?r.value:0;const c=t.scroll.value.position+s.value+r.value-t.height.value;return c>0?c:0}),y=b(()=>e.modelValue!==!0||f.value===!0&&a.value!==!0),x=b(()=>e.modelValue===!0&&y.value===!0&&e.reveal===!0),i=b(()=>"q-footer q-layout__section--marginal "+(f.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(y.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(f.value!==!0?" hidden":""):"")),p=b(()=>{const c=t.rows.value.bottom,_={};return c[0]==="l"&&t.left.space===!0&&(_[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),c[2]==="r"&&t.right.space===!0&&(_[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),_});function k(c,_){t.update("footer",c,_)}function z(c,_){c.value!==_&&(c.value=_)}function H({height:c}){z(r,c),k("size",c)}function v(){if(e.reveal!==!0)return;const{direction:c,position:_,inflectionPoint:E}=t.scroll.value;z(a,c==="up"||_-E<100||t.height.value-s.value-_-r.value<300)}function q(c){x.value===!0&&z(a,!0),l("focusin",c)}T(()=>e.modelValue,c=>{k("space",c),z(a,!0),t.animate()}),T(u,c=>{k("offset",c)}),T(()=>e.reveal,c=>{c===!1&&z(a,e.modelValue)}),T(a,c=>{t.animate(),l("reveal",c)}),T([r,t.scroll,t.height],v),T(()=>n.screen.height,c=>{t.isContainer.value!==!0&&z(d,c)});const h={};return t.instances.footer=h,e.modelValue===!0&&k("size",r.value),k("space",e.modelValue),k("offset",u.value),V(()=>{t.instances.footer===h&&(t.instances.footer=void 0,k("size",0),k("offset",0),k("space",!1))}),()=>{const c=Ee(o.default,[S(U,{debounce:0,onResize:H})]);return e.elevated===!0&&c.push(S("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),S("footer",{class:i.value,style:p.value,onFocusin:q},c)}}}),to=Q({name:"QPageContainer",setup(e,{slots:o}){const{proxy:{$q:l}}=R(),n=Y(Z,()=>{console.error("QPageContainer needs to be child of QLayout")});Qe(ut,!0);const t=b(()=>{const r={};return n.header.space===!0&&(r.paddingTop=`${n.header.size}px`),n.right.space===!0&&(r[`padding${l.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(r.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(r[`padding${l.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),r});return()=>S("div",{class:"q-page-container",style:t.value},X(o.default))}});const{passive:He}=K,oo=["both","horizontal","vertical"];var no=Q({name:"QScrollObserver",props:{axis:{type:String,validator:e=>oo.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:o}){const l={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let n=null,t,r;T(()=>e.scrollTarget,()=>{f(),d()});function a(){n!==null&&n();const y=Math.max(0,kt(t)),x=qt(t),i={top:y-l.position.top,left:x-l.position.left};if(e.axis==="vertical"&&i.top===0||e.axis==="horizontal"&&i.left===0)return;const p=Math.abs(i.top)>=Math.abs(i.left)?i.top<0?"up":"down":i.left<0?"left":"right";l.position={top:y,left:x},l.directionChanged=l.direction!==p,l.delta=i,l.directionChanged===!0&&(l.direction=p,l.inflectionPoint=l.position),o("scroll",P({},l))}function d(){t=Be(r,e.scrollTarget),t.addEventListener("scroll",s,He),s(!0)}function f(){t!==void 0&&(t.removeEventListener("scroll",s,He),t=void 0)}function s(y){if(y===!0||e.debounce===0||e.debounce==="0")a();else if(n===null){const[x,i]=e.debounce?[setTimeout(a,e.debounce),clearTimeout]:[requestAnimationFrame(a),cancelAnimationFrame];n=()=>{i(x),n=null}}}const u=R();return Le(()=>{r=u.proxy.$el.parentNode,d()}),V(()=>{n!==null&&n(),f()}),Object.assign(u.proxy,{trigger:s,getPosition:()=>l}),ct}}),lo=Q({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:o,emit:l}){const{proxy:{$q:n}}=R(),t=C(null),r=C(n.screen.height),a=C(e.container===!0?0:n.screen.width),d=C({position:0,direction:"down",inflectionPoint:0}),f=C(0),s=C($e.value===!0?0:j()),u=b(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),y=b(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),x=b(()=>s.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${s.value}px`}:null),i=b(()=>s.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${s.value}px`,width:`calc(100% + ${s.value}px)`}:null);function p(h){if(e.container===!0||document.qScrollPrevented!==!0){const c={position:h.position.top,direction:h.direction,directionChanged:h.directionChanged,inflectionPoint:h.inflectionPoint.top,delta:h.delta.top};d.value=c,e.onScroll!==void 0&&l("scroll",c)}}function k(h){const{height:c,width:_}=h;let E=!1;r.value!==c&&(E=!0,r.value=c,e.onScrollHeight!==void 0&&l("scroll-height",c),H()),a.value!==_&&(E=!0,a.value=_),E===!0&&e.onResize!==void 0&&l("resize",h)}function z({height:h}){f.value!==h&&(f.value=h,H())}function H(){if(e.container===!0){const h=r.value>f.value?j():0;s.value!==h&&(s.value=h)}}let v;const q={instances:{},view:b(()=>e.view),isContainer:b(()=>e.container),rootRef:t,height:r,containerHeight:f,scrollbarWidth:s,totalWidth:b(()=>a.value+s.value),rows:b(()=>{const h=e.view.toLowerCase().split(" ");return{top:h[0].split(""),middle:h[1].split(""),bottom:h[2].split("")}}),header:A({size:0,offset:0,space:!1}),right:A({size:300,offset:0,space:!1}),footer:A({size:0,offset:0,space:!1}),left:A({size:300,offset:0,space:!1}),scroll:d,animate(){v!==void 0?clearTimeout(v):document.body.classList.add("q-body--layout-animate"),v=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),v=void 0},155)},update(h,c,_){q[h][c]=_}};if(Qe(Z,q),j()>0){let _=function(){h=null,c.classList.remove("hide-scrollbar")},E=function(){if(h===null){if(c.scrollHeight>n.screen.height)return;c.classList.add("hide-scrollbar")}else clearTimeout(h);h=setTimeout(_,300)},L=function(O){h!==null&&O==="remove"&&(clearTimeout(h),_()),window[`${O}EventListener`]("resize",E)},h=null;const c=document.body;T(()=>e.container!==!0?"add":"remove",L),e.container!==!0&&L("add"),dt(()=>{L("remove")})}return()=>{const h=Ee(o.default,[S(no,{onScroll:p}),S(U,{onResize:k})]),c=S("div",{class:u.value,style:y.value,ref:e.container===!0?void 0:t,tabindex:-1},h);return e.container===!0?S("div",{class:"q-layout-container overflow-hidden",ref:t},[S(U,{onResize:z}),S("div",{class:"absolute-full",style:x.value},[S("div",{class:"scroll",style:i.value},[c])])]):c}}});const ao=W(" Instawall "),io={class:"lg-screen-only"},ro=["src"],so={id:"target-icon",class:"sm-screen-only"},uo={class:"flex items-center q-mr-md"},co=W("\u500B\u4EBA\u6A94\u6848"),fo={class:"flex items-center q-mr-md"},vo=W("\u6309\u8B9A\u8CBC\u6587"),ho={class:"flex items-center q-mr-md"},mo=W("\u8A2D\u5B9A"),go=W("\u767B\u51FA"),bo=["src"],ko={__name:"MainLayout",setup(e){const o=ft(),l=zt(),n=Y("defaultAvatar"),t=C("#target-avatar"),r=C(!1);return(a,d)=>{const f=pe("router-link"),s=pe("router-view");return vt(),ht(mt,null,[g(lo,{view:"lHh Lpr lFf"},{default:w(()=>[g(Zt,{bordered:"",class:"bg-white text-grey-10"},{default:w(()=>[g(At,{class:"constrain"},{default:w(()=>[g(Ot,null,{default:w(()=>[g(f,{to:{name:"HomePage"},class:"link-text text-grand-hotel text-bold"},{default:w(()=>[ao]),_:1})]),_:1}),B("div",io,[g(I,{icon:"eva-home-outline",to:{name:"HomePage"},flat:"",round:""}),g(I,{icon:"eva-plus-square-outline",onClick:d[0]||(d[0]=u=>r.value=!0),flat:"",round:""}),g(I,{id:"target-avatar",onClick:d[1]||(d[1]=u=>t.value="#target-avatar"),flat:"",round:""},{default:w(()=>[g(we,{size:"sm"},{default:w(()=>{var u;return[B("img",{src:((u=$(o).user)==null?void 0:u.avatar)||$(n)},null,8,ro)]}),_:1})]),_:1})]),B("div",so,[g(I,{icon:"eva-menu-outline",onClick:d[2]||(d[2]=u=>t.value="#target-icon"),flat:"",round:""})])]),_:1}),g(Yt,{target:t.value,"transition-show":"jump-down","transition-hide":"jump-up"},{default:w(()=>[g(Ht,{style:{"min-width":"130px"}},{default:w(()=>{var u,y,x;return[g(N,{exact:"",clickable:"",to:{name:"PersonalPage",params:{userId:(u=$(o).user)==null?void 0:u._id}}},{default:w(()=>[B("div",uo,[g(ae,{size:"20px",name:"eva-person"})]),g(D,null,{default:w(()=>[co]),_:1})]),_:1},8,["to"]),g(N,{exact:"",clickable:"",to:{name:"PersonalPage",params:{userId:(y=$(o).user)==null?void 0:y._id,tab:"likes"}}},{default:w(()=>[B("div",fo,[g(ae,{size:"20px",name:"eva-heart"})]),g(D,null,{default:w(()=>[vo]),_:1})]),_:1},8,["to"]),g(N,{clickable:"",to:{name:"AccountPage",params:{userId:(x=$(o).user)==null?void 0:x._id}}},{default:w(()=>[B("div",ho,[g(ae,{size:"20px",name:"eva-settings-outline"})]),g(D,null,{default:w(()=>[mo]),_:1})]),_:1},8,["to"]),g(Se),g(N,{clickable:"",onClick:$(o).logout},{default:w(()=>[g(D,null,{default:w(()=>[go]),_:1})]),_:1},8,["onClick"]),g(Se)]}),_:1})]),_:1},8,["target"])]),_:1}),g(eo,{bordered:"",class:"bg-white sm-screen-only"},{default:w(()=>[g(Wt,{"active-color":"primary","indicator-color":"transparent",class:"text-grey-10"},{default:w(()=>{var u;return[g(ie,{to:"/",icon:"eva-home-outline"}),g(ie,{onClick:d[3]||(d[3]=y=>r.value=!0),icon:"eva-plus-square-outline"}),g(ie,{to:{name:"PersonalPage",params:{userId:(u=$(o).user)==null?void 0:u._id}}},{default:w(()=>[g(we,{size:"sm"},{default:w(()=>{var y;return[B("img",{src:((y=$(o).user)==null?void 0:y.avatar)||$(n)},null,8,bo)]}),_:1})]),_:1},8,["to"])]}),_:1})]),_:1}),g(to,{class:"bg-grey-1"},{default:w(()=>[g(s)]),_:1})]),_:1}),g(Pt,{modelValue:r.value,"onUpdate:modelValue":d[4]||(d[4]=u=>r.value=u),onAddPost:$(l).addPost},null,8,["modelValue","onAddPost"])],64)}}};export{ko as default};
